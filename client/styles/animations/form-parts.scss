$animationTiming: 350ms;
$animationShiftLeft: -20vw;
$animationEasing: ease;

// $pageMinHeight: calc(100vh - 165px);
$pageMinHeight: 100vh;
$pageAnimationBoxShadow: -4px 0px 10px rgba(0,0,0,.1);

@keyframes enterFromRight {
    0% {
        transform:translate(100vw,0);
    }
    100% {
        transform:translate(0,0);
    }
}

@keyframes enterFromLeft {
    0% {
        transform:translate(-100vw,0);
    }
    100% {
        transform:translate(0,0);
    }
}

@keyframes leaveRight {
    0% {
        transform:translate(0,0);
    }
    100% {
        transform:translate(100vw,0);
    }
}

@keyframes shiftLeft {
    0% {
        transform:translate(0,0);
        opacity:1;
    }
    100% {
        transform:translate($animationShiftLeft,0);
        opacity:0;
    }
}

@keyframes unShiftLeft {
    0% {
        transform:translate($animationShiftLeft,0);
    }
    100% {
        transform:translate(0,0);
    }
}

#form-parts {
    display:flex;
    flex-flow:column;
}

.form-part {
    display:none;
    &.active, &.leave {
        display:block;
    }
}

.active.enter {
    animation:enterFromRight $animationTiming $animationEasing forwards;
    order:2;
    z-index:2;
    max-width:100vw; 
}

.active.leave {
    animation: shiftLeft $animationTiming $animationEasing forwards;
    order:1;
    z-index:1;
    overflow:visible;
    height:0;
}

.back {
    .active.enter {
        order:2;
        z-index:2;
        animation: unShiftLeft $animationTiming $animationEasing forwards; 
    }
    .active.leave {
        order:1;
        z-index:1;
        animation: leaveRight $animationTiming $animationEasing forwards; 
    }
}

.active.now {
    animation:none;
}

/*
#form-parts {
    display:flex;
    flex-flow:column;
    justify-content: flex-start;
}

.animation-leave {
    order:1;
    z-index:1;
    overflow:visible;
    height:0;
}

.animation-enter {
    order:2;
    z-index:2;
    max-width:100vw;
}


.animation-enter, .animation-leave {
    position:relative;
}

.animation-enter.animation-enter-active {
    animation:enterFromRight $animationTiming $animationEasing forwards;
    box-shadow:$pageAnimationBoxShadow;
}

.animation-enter {
    background:white;
    min-height:$pageMinHeight;
    transform:translate(100vw,0);
}

.animation-leave.animation-leave-active {
    animation: shiftLeft $animationTiming $animationEasing forwards;
}

body.back {
    .animation-enter {
        order:1;
        z-index:1;
        overflow:visible;
        height:0;
        min-height:0;
        transform:translate($animationShiftLeft,0);
        &.animation-enter-active {
            animation: unShiftLeft $animationTiming $animationEasing forwards;
        }
    }
    .animation-leave {
        order:2;
        background:white;
        z-index:2;
        max-width:100vw;
        min-height:$pageMinHeight;
        &.animation-leave-active {
            animation:leaveRight $animationTiming $animationEasing forwards;
            box-shadow:$pageAnimationBoxShadow;
        }
    }
}
*/